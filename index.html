<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ape Mood (APEM)</title>

<style>
*{margin:0;padding:0;box-sizing:border-box}
body{
  background:#000;
  color:#00ffd0;
  font-family:monospace;
}
.hero{
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
}
.box{
  width:90%;
  max-width:900px;
  border:1px solid #00ffd0;
  padding:30px;
  border-radius:16px;
  text-align:center;
}
h1{
  font-size:3rem;
  letter-spacing:5px;
}
.type{
  margin:20px auto;
  min-height:3em;
}
.cursor{
  display:inline-block;
  width:8px;
  height:1.2em;
  background:#00ffd0;
  animation:blink .8s infinite;
}
@keyframes blink{50%{opacity:0}}
button{
  margin:6px;
  padding:10px 20px;
  background:black;
  color:#00ffd0;
  border:1px solid #00ffd0;
  cursor:pointer;
}
.portal{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,.95);
}
.portal-box{
  border:1px solid #00ffd0;
  padding:25px;
  max-width:700px;
}
</style>
</head>

<body>

<div class="hero">
  <div class="box">
    <h1>APE MOOD</h1>
    <div class="type">
      <span id="typed"></span><span class="cursor"></span>
    </div>

    <button onclick="startIntro()">START</button>
    <button onclick="openPortal('roadmap')">ROAD MAP</button>
    <button onclick="openPortal('supply')">SUPPLY</button>
  </div>
</div>

<div id="portal" class="portal">
  <div class="portal-box">
    <div id="portalText"></div>
  </div>
</div>

<script>
/* ===============================
   REAL TYPING SOUND â€” GUARANTEED
   =============================== */

const TYPE_SPEED = 45;
let soundUnlocked = false;

/* unlock audio on FIRST user click */
function unlockSound(){
  if(soundUnlocked) return;
  const a = new Audio("./assets/typing.mp3");
  a.volume = 0.01;
  a.play().then(()=>{
    a.pause();
    soundUnlocked = true;
  }).catch(()=>{});
}

/* play short key click */
function playKey(){
  if(!soundUnlocked) return;
  const a = new Audio("./assets/typing.mp3");
  a.volume = 0.35;
  a.play();
  setTimeout(()=>a.pause(), 45);
}

/* typing engine */
function typeText(el, text){
  el.textContent="";
  let i=0;
  (function run(){
    if(i<=text.length){
      el.textContent=text.slice(0,i++);
      playKey();
      setTimeout(run, TYPE_SPEED);
    }
  })();
}

/* main intro */
function startIntro(){
  unlockSound();
  typeText(
    document.getElementById("typed"),
    ":: Initializing Ape Mood Protocol..."
  );
}

/* portal */
const portal=document.getElementById("portal");
const portalText=document.getElementById("portalText");

const content={
  roadmap:
`PHASE 1 :: Token launch & community
PHASE 2 :: AI platforms & ecosystem
PHASE 3 :: Real-world blockchain expansion`,
  supply:
`Total Supply: 150,000,000 APEM
No minting. No inflation.`
};

function openPortal(key){
  unlockSound();
  portal.style.display="flex";
  typeText(portalText, content[key]);
  setTimeout(()=>portal.style.display="none",8000);
}
</script>

</body>
</html>
